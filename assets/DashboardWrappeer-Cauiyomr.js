import{a as d,r as a,j as t,O as f}from"./index-iJCjs-aR.js";import{b as m,a as n}from"./auth-D_pFjThP.js";import"./app-Cw8K6OkT.js";import{d as l}from"./store-SAwqP-pd.js";import{P as p}from"./react-9J5m95sd.js";function h({children:u}){const i=d(),[r,o]=a.useState(null),[s,c]=a.useState(!0);return a.useEffect(()=>{async function e(){await n.authStateReady(),c(!1),o(n.currentUser)}e()},[]),a.useEffect(()=>{if(!r){s||i("/");return}r.getIdTokenResult().then(e=>{"admin"in e.claims&&e.claims.admin==!0||(o(null),m(n),i("/"))})},[s,r]),s?t.jsx(t.Fragment,{children:"Loading"}):u}function S(){return t.jsx(h,{children:t.jsx(p,{store:l,children:t.jsx(f,{})})})}export{S as default};
